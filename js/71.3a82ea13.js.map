{"version":3,"file":"js/71.3a82ea13.js","mappings":"8LAEIA,EAAAA,EAAAA,GAAiB,UAAb,YAAQ,G,GACPC,GAAG,O,WACc,Q,WAAkB,O,WACJ,U,WAAoB,O,WACtB,Q,WAAkB,O,oGALtDC,EAAAA,EAAAA,IASM,YARJC,GACAH,EAAAA,EAAAA,GAKM,MALN,EAKM,EAJJI,EAAAA,EAAAA,IAAsCC,EAAA,CAAzBC,GAAG,KAAG,C,kBAAC,IAAI,M,MAIpB,GAHJF,EAAAA,EAAAA,IAAsDC,EAAA,CAAzCC,GAAG,mBAAiB,C,kBAAC,IAAM,M,MAGpC,GAFJF,EAAAA,EAAAA,IAAkDC,EAAA,CAArCC,GAAG,iBAAe,C,kBAAC,IAAI,M,MAEhC,GADJN,EAAAA,EAAAA,GAA2C,KAAxCO,KAAK,IAAKC,QAAK,8BAAUC,EAAAA,SAAAA,EAAAA,WAAAA,IAAO,eAAE,QAEpBC,EAAAA,eAAAA,EAAAA,EAAAA,OAAnBC,EAAAA,EAAAA,IAA+CC,EAAA,CAAAC,IAAAA,MAA/C,iBAMJ,OACEC,KAAM,gBACNC,OACE,MAAO,CACLC,cAAc,IAGlBC,UACEC,KAAKC,cAEPC,QAAS,CACPD,aACE,MAAME,EAAQC,SAASC,OAAOC,QAAQ,iDAAkD,MACxF,GAAIH,EAAO,CAETH,KAAKO,MAAMC,SAASC,QAAQC,OAAOC,cAAiB,GAAER,IACtD,MAAMS,EAAO,yDACbZ,KAAKO,MACFM,KAAKD,EAAK,CAAEE,UAAWd,KAAKG,QAC5BY,MAAK,KACJf,KAAKF,cAAe,KAErBkB,OAAOC,IACNC,MAAMD,EAAIpB,KAAKsB,SACfnB,KAAKoB,QAAQC,KAAK,kBAGtBH,MAAM,UACNlB,KAAKoB,QAAQC,KAAK,WAGtBC,UACElB,SAASC,OAAS,sBAClBa,MAAM,aACNlB,KAAKoB,QAAQC,KAAK,a,UC5CxB,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://vue-week6/./src/views/DashboardView.vue","webpack://vue-week6/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\n  <div>\n    <h1>你現在在後台頁面</h1>\n    <div id=\"nav\">\n      <router-link to=\"/\">回到前台</router-link> |\n      <router-link to=\"/admin/products\">後台產品列表</router-link> |\n      <router-link to=\"/admin/orders\">後台訂單</router-link> |\n      <a href=\"#\" @click.prevent=\"signout\">登出</a>\n    </div>\n    <router-view v-if=\"checkSuccess\"></router-view>\n  </div>\n</template>\n\n<script>\n// 驗證可以寫這邊\nexport default {\n  name: 'DashboardView',\n  data() {\n    return {\n      checkSuccess: false,\n    };\n  },\n  mounted() {\n    this.checkLogin();\n  },\n  methods: {\n    checkLogin() {\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n      if (token) {\n        // Axios 預設值\n        this.$http.defaults.headers.common.Authorization = `${token}`;\n        const api = `${process.env.VUE_APP_API}api/user/check`;\n        this.$http\n          .post(api, { api_token: this.token })\n          .then(() => {\n            this.checkSuccess = true;\n          })\n          .catch((err) => {\n            alert(err.data.message);\n            this.$router.push('/login');\n          });\n      } else {\n        alert('您尚未登入。');\n        this.$router.push('/login');\n      }\n    },\n    signout() {\n      document.cookie = 'hexToken=;expires=;';\n      alert('token 已清除');\n      this.$router.push('/login');\n    },\n  },\n};\n</script>\n","import { render } from \"./DashboardView.vue?vue&type=template&id=bcf1f130\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Project\\\\hexSchool\\\\vue_week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","id","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","href","onClick","$options","$data","_createBlock","_component_router_view","key","name","data","checkSuccess","mounted","this","checkLogin","methods","token","document","cookie","replace","$http","defaults","headers","common","Authorization","api","post","api_token","then","catch","err","alert","message","$router","push","signout","__exports__","render"],"sourceRoot":""}