"use strict";(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[71],{8071:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var s=o(6252),n=o(9963);const u=(0,s._)("h1",null,"你現在在後台頁面",-1),c={id:"nav"},i=(0,s.Uk)("回到前台"),r=(0,s.Uk)(" | "),h=(0,s.Uk)("後台產品列表"),a=(0,s.Uk)(" | "),k=(0,s.Uk)("後台訂單"),d=(0,s.Uk)(" | ");function l(e,t,o,l,p,m){const f=(0,s.up)("router-link"),v=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[u,(0,s._)("div",c,[(0,s.Wm)(f,{to:"/"},{default:(0,s.w5)((()=>[i])),_:1}),r,(0,s.Wm)(f,{to:"/admin/products"},{default:(0,s.w5)((()=>[h])),_:1}),a,(0,s.Wm)(f,{to:"/admin/orders"},{default:(0,s.w5)((()=>[k])),_:1}),d,(0,s._)("a",{href:"#",onClick:t[0]||(t[0]=(0,n.iM)(((...e)=>m.signout&&m.signout(...e)),["prevent"]))},"登出")]),p.checkSuccess?((0,s.wg)(),(0,s.j4)(v,{key:0})):(0,s.kq)("",!0)])}var p={name:"DashboardView",data(){return{checkSuccess:!1}},mounted(){this.checkLogin()},methods:{checkLogin(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(e){this.$http.defaults.headers.common.Authorization=`${e}`;const t="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(t,{api_token:this.token}).then((()=>{this.checkSuccess=!0})).catch((e=>{alert(e.data.message),this.$router.push("/login")}))}else alert("您尚未登入。"),this.$router.push("/login")},signout(){document.cookie="hexToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}}},m=o(3744);const f=(0,m.Z)(p,[["render",l]]);var v=f}}]);
//# sourceMappingURL=71.3a82ea13.js.map